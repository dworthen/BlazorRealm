@page "/counter"
@inherits RealmComponent<AppState>
@using C = BlazorStandAlone.Store.Counter

<h1>Counter</h1>

<p>Current count: @(State.Loading ? "Loading" : State.Count.ToString())</p>

Change By: <input type="text" name="IncementAmoung" bind="@Delta" /><br />

<button class="btn btn-primary" onclick="@IncrementCount">Increment</button><br />
<button class="btn btn-primary" onclick="@DecrementCount">Decrement</button><br />
<button class="btn btn-primary" onclick="@AsyncIncrement">Async Increment</button><br />


@functions {
    int currentCount = 0;

    [Parameter]
    private int Delta { get; set; } = 1;

    void IncrementCount()
    {
        Dispatch(new C.Actions.IncrementByValue(Delta));
    }

    void DecrementCount()
    {
        Dispatch(new C.Actions.DecrementByValue(Delta));
    }

    void AsyncIncrement()
    {
        Dispatch(new C.Operations.AsyncIncrementAction(Store, Delta));
    }

    public override void Dispose()
    {
        base.Dispose();
        Dispatch(new C.Actions.ResetCount());
    }
}
